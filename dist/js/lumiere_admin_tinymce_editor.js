tinymce.create("tinymce.plugins.Lumiere_tag",{init:function(t,e){lumiere_admin_vars.imdb_path;t.addButton("lumiere_tiny",{title:"Lumière! add tags",image:lumiere_admin_vars.imdb_path+"pics/lumiere-ico-noir13x13.png",onclick:function(){var e=t.selection.getContent();t.dom.toggleClass(t.selection.getNode(),"lumiere_link_maker"),this.active(!this.active()),this.active()?t.execCommand("mceInsertContent",0,'<span class="lumiere_link_maker">'+e+"</span>"):t.selection.setContent(e)},onPostRender:function(){var n=this;t.on("NodeChange",function(e){var i=jQuery(t.selection.getNode()).hasClass("lumiere_link_maker");n.active(i)})}})},getInfo:function(){return{longname:"Lumière TinyMCE editor",author:"JCV",authorurl:"https://www.jcvignoli.com/blog",infourl:"https://www.jcvignoli.com/en/lumiere-movies-wordpress-plugin/",version:"3.0"}}}),tinymce.PluginManager.add("lumiere_tiny",tinymce.plugins.Lumiere_tag);